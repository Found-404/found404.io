<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/found404.io/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/found404.io/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/found404.io/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/found404.io/images/logo.svg" color="#222">

<link rel="stylesheet" href="/found404.io/css/main.css">


<link rel="stylesheet" href="/found404.io/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/found404.io/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="Mysql基本概念1.什么是数据库 🤔数据库(database)是用来组织。存储和营理数据的仓库。当今世界是一个充满着数据的互联网世界，充斥着大量的数据。数据的来源有很多，比如出行记录、消费记录、浏览的网页、发送的消息等等.除了文本类型的数据，图像。音乐。声音都是数据。为了方便管理互联网世界中的数据，就有了数据库管理系统的概念(简称:数据库) .用户可以对数据库中的数据进行新增、查询、更新、删除">
<meta property="og:type" content="article">
<meta property="og:title" content="Mysql数据库">
<meta property="og:url" content="http://example.com/2022/07/12/Mysql%E6%95%B0%E6%8D%AE%E5%BA%93/index.html">
<meta property="og:site_name" content="FØund404">
<meta property="og:description" content="Mysql基本概念1.什么是数据库 🤔数据库(database)是用来组织。存储和营理数据的仓库。当今世界是一个充满着数据的互联网世界，充斥着大量的数据。数据的来源有很多，比如出行记录、消费记录、浏览的网页、发送的消息等等.除了文本类型的数据，图像。音乐。声音都是数据。为了方便管理互联网世界中的数据，就有了数据库管理系统的概念(简称:数据库) .用户可以对数据库中的数据进行新增、查询、更新、删除">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220712230648045.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220712230855197.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713192404034.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713192913904.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713194136724.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713200549136.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713201000975.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713201821882.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713202552024.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713202637208.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713203137364.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713203310275.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713203839910.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713204215255.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713204302189.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713204639112.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713204859441.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713205003534.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713205734070.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713205927224.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713210340012.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713210729998.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713211027356.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713211522705.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713211705196.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713211857686.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713212153424.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713212735747.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713213356159.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713214251680.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713215003242.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713215445821.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713221320032.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713222055845.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713223115964.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713223644939.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713224853028.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713230024974.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714192603710.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714192702651.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714193346444.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714193659593.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714193843904.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714194043942.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714195052990.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714202516094.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714203759869.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714204107954.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714205132872.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714205348970.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714205437367.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714205702810.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714205908830.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714205957242.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714210155726.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714214407342.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714210641817.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714210913295.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714211600604.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714214446368.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714215923923.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714220045105.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714220145337.png">
<meta property="og:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714220815116.png">
<meta property="article:published_time" content="2022-07-12T14:59:37.000Z">
<meta property="article:modified_time" content="2022-07-14T15:10:52.655Z">
<meta property="article:author" content="FØund404">
<meta property="article:tag" content="Mysql">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220712230648045.png">

<link rel="canonical" href="http://example.com/2022/07/12/Mysql%E6%95%B0%E6%8D%AE%E5%BA%93/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>Mysql数据库 | FØund404</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>


</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/found404.io/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">FØund404</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/found404.io/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/found404.io/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/found404.io/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/found404.io/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/Found-404" class="github-corner" title="前往Github主页" aria-label="前往Github主页" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/07/12/Mysql%E6%95%B0%E6%8D%AE%E5%BA%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/%E7%BD%91%E7%AB%99%E5%A4%B4%E5%83%8F.png">
      <meta itemprop="name" content="FØund404">
      <meta itemprop="description" content="is not FOund">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="FØund404">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Mysql数据库
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-07-12 22:59:37" itemprop="dateCreated datePublished" datetime="2022-07-12T22:59:37+08:00">2022-07-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-07-14 23:10:52" itemprop="dateModified" datetime="2022-07-14T23:10:52+08:00">2022-07-14</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/found404.io/categories/%E5%90%8E%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">后端</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="Mysql基本概念"><a href="#Mysql基本概念" class="headerlink" title="Mysql基本概念"></a>Mysql基本概念</h1><h2 id="1-什么是数据库-🤔"><a href="#1-什么是数据库-🤔" class="headerlink" title="1.什么是数据库 🤔"></a>1.什么是数据库 🤔</h2><p>数据库(database)是用来组织。存储和营理数据的仓库。<br>当今世界是一个充满着数据的互联网世界，充斥着大量的数据。数据的来源有很多，比如出行记录、消费记录、浏览的网页、发送的消息等等.除了文本类型的数据，图像。音乐。声音都是数据。<br>为了方便管理互联网世界中的数据，就有了数据库管理系统的概念(简称:数据库) .用户可以对数据库中的数据进行新增、查询、更新、删除等操作。</p>
<span id="more"></span>

<h2 id="2-常见的数据库以及分类"><a href="#2-常见的数据库以及分类" class="headerlink" title="2.常见的数据库以及分类"></a>2.常见的数据库以及分类</h2><p>市面上最常见的数据库：</p>
<ul>
<li>MySQL数据库(目前使用最广泛流行度最高的开源免费数据库; Community(社区版免费) + Enterprise(企业版))</li>
<li>Oracle数据库(收费)</li>
<li>SQL Server数据库(收费)</li>
<li>Mongodb数据库(Community + Enterprise)</li>
</ul>
<p>其中，MySQL. Oracle. SQL Server 属于传统型数据库(又叫做:关系型数据库或SQL数据库)，这三者的<br>设计理念相同，用法比较类似。</p>
<p>而Mongodb属于新型数据库(又叫做:非关系型数据库或NoSQL数据库)，它在一 定程度 上弥补了传统型<br>数据库的缺陷。</p>
<h2 id="3-传统型数据库的数据阻止结构"><a href="#3-传统型数据库的数据阻止结构" class="headerlink" title="3.传统型数据库的数据阻止结构"></a>3.传统型数据库的数据阻止结构</h2><h3 id="1-Excel的数据组织结构"><a href="#1-Excel的数据组织结构" class="headerlink" title="1.Excel的数据组织结构"></a>1.Excel的数据组织结构</h3><p>每个Excel中,数据的组织结构分别为<strong>工作簿、工作表、数据行、列</strong>这4大部分组成。</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220712230648045.png" alt="image-20220712230648045"></p>
<ol>
<li>整个Excel叫做工作簿</li>
<li>users和books是工作表</li>
<li>users工作表中有3行数据</li>
<li>每行数据由6列信息组成</li>
<li>每列信息都有对应的数据类型</li>
</ol>
<h3 id="2-传统型数据库的数据组织结构"><a href="#2-传统型数据库的数据组织结构" class="headerlink" title="2.传统型数据库的数据组织结构"></a>2.传统型数据库的数据组织结构</h3><p>在传统型数据库中，数据的组织结构分为**数据库(database)、数据表(table). 数据行(row)、 字段(field)**这 4大部分组成。</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220712230855197.png" alt="image-20220712230855197"></p>
<ol>
<li>数据库类似于Excel的工作簿</li>
<li>数据表类似于Excel的工作表</li>
<li>数据行类似于 Excel的每- -行数据</li>
<li>字段类似于Excel的列</li>
<li>每个字段都有对应的数据类型</li>
</ol>
<h3 id="3-实际开发中库、表、行、字段的关系"><a href="#3-实际开发中库、表、行、字段的关系" class="headerlink" title="3.实际开发中库、表、行、字段的关系"></a>3.实际开发中库、表、行、字段的关系</h3><ol>
<li>在实际项目开发中，-般情况下，每个项目都对应独立的数据库。</li>
<li>不同的数据，要存储到数据库的不同表中,例如:用户数据存储到users表中，图书数据存储到books表中。</li>
<li>每个表中具体存储哪些信息，由字段来决定，例如:我们可以为users表设计id、username、 password 这3个字段。</li>
<li>表中的行，代表每一条具体的数据。</li>
</ol>
<h1 id="安装并配置MySQL"><a href="#安装并配置MySQL" class="headerlink" title="安装并配置MySQL"></a>安装并配置MySQL</h1><h2 id="了解需要安装哪些MySQL相关的软件"><a href="#了解需要安装哪些MySQL相关的软件" class="headerlink" title="了解需要安装哪些MySQL相关的软件"></a>了解需要安装哪些MySQL相关的软件</h2><p>对于开发人员来说，只需要安装MySQL Server和MySQL Workbench这两个软件，就能满足开发的需要了。</p>
<ul>
<li>MySQL Server:专门用来提供数据存储和服务的软件。</li>
<li>MySQL Workbench:可视化的MySQL管理工具，通过它，可以方便的操作存储在MySQL Server中的数据。</li>
</ul>
<h2 id="MySQL在Windows环境下的安装"><a href="#MySQL在Windows环境下的安装" class="headerlink" title="MySQL在Windows环境下的安装"></a>MySQL在Windows环境下的安装</h2><p>跳过</p>
<h1 id="使用MySQL-Workbench管理数据库"><a href="#使用MySQL-Workbench管理数据库" class="headerlink" title="使用MySQL Workbench管理数据库"></a>使用MySQL Workbench管理数据库</h1><h2 id="1-创建数据库"><a href="#1-创建数据库" class="headerlink" title="1.创建数据库"></a>1.创建数据库</h2><p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713192404034.png" alt="image-20220713192404034"></p>
<h2 id="2-创建数据表"><a href="#2-创建数据表" class="headerlink" title="2.创建数据表"></a>2.创建数据表</h2><p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713192913904.png" alt="image-20220713192913904"></p>
<p>DataType数据类型：</p>
<ol>
<li><strong>int</strong>整数</li>
<li>**varchar(len”长度“)**字符串</li>
<li>**tinyint(1)**布尔值</li>
</ol>
<p>字段的特殊标识：</p>
<ol>
<li>**PK (Primary Key)**主键、唯一标识</li>
<li><strong>NN (Not Null)</strong> 值不允许为空</li>
<li><strong>UQ (Unique)</strong> 值唯一</li>
<li><strong>Al (Auto Increment)</strong> 值自动增长</li>
<li><strong>Default&#x2F;Expression</strong>默认值</li>
</ol>
<h2 id="3-向表中写入数据"><a href="#3-向表中写入数据" class="headerlink" title="3.向表中写入数据"></a>3.向表中写入数据</h2><p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713194136724.png" alt="image-20220713194136724"></p>
<h1 id="什么是SQL"><a href="#什么是SQL" class="headerlink" title="什么是SQL"></a>什么是SQL</h1><p>SQL (英文全称: Structured Query Language)是结构化查询语言，专门用来访问和处理数据库的编程语言。能够让我们以编程的形式，操作数据库里面的数据。</p>
<blockquote>
<p>三个关键点:</p>
<ol>
<li>SQL是一门数据库编程语言</li>
<li>使用SQL语言编写出来的代码，叫做SQL语句</li>
<li>SQL语言只能在关系型数据库中使用(例如MySQL、Oracle、 SQL Server)。非关系型数据库(例如Mongodb)不支持SQL语言</li>
</ol>
</blockquote>
<h2 id="SQL能做什么"><a href="#SQL能做什么" class="headerlink" title="SQL能做什么"></a>SQL能做什么</h2><ol>
<li>从数据库中查询数据</li>
<li>向数据库中插入新的数据</li>
<li>更新数据库中的数据</li>
<li>从数据库删除数据</li>
<li>可以创建新数据库</li>
<li>可在数据库中创建新表</li>
<li>可在数据库中创建存储过程、 视图</li>
<li>ete…</li>
</ol>
<h2 id="SQL的学习目标"><a href="#SQL的学习目标" class="headerlink" title="SQL的学习目标"></a>SQL的学习目标</h2><p>重点掌握如何使用SQL从数据表中:</p>
<blockquote>
<p>查询数据(select) 、 插入数据(insert into)、更新数据(update). 删除数据 (delete)</p>
</blockquote>
<p>额外需要掌握的4种SQL语法:</p>
<blockquote>
<p>where条件、and和or运算符、orderby排序、count(*) 函数</p>
</blockquote>
<h2 id="SQL语法"><a href="#SQL语法" class="headerlink" title="SQL语法"></a>SQL语法</h2><h3 id="SQL的SELECT语句"><a href="#SQL的SELECT语句" class="headerlink" title="SQL的SELECT语句"></a>SQL的SELECT语句</h3><h4 id="1-语法"><a href="#1-语法" class="headerlink" title="1.语法"></a>1.语法</h4><p>SELECT语句用于从表中查询数据。执行的结果被存储在一个结果表中(称为结果集) 语法格式如下:</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713200549136.png" alt="image-20220713200549136"></p>
<p>注意：SQL语句中的关键字对大小写不敏感。SELECT 等效于select, FROM 等效于from.</p>
<h4 id="2-SELECT-示例"><a href="#2-SELECT-示例" class="headerlink" title="2.SELECT*示例"></a>2.SELECT*示例</h4><p>我们希望从users表中选取所有列，可以使用符号*取代列的名称，示例如下：</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713201000975.png" alt="image-20220713201000975"></p>
<h4 id="3-SELECT列名称示例"><a href="#3-SELECT列名称示例" class="headerlink" title="3.SELECT列名称示例"></a>3.SELECT列名称示例</h4><p>如需获取名为”username”和”password”的列的内容(从名为”users”的数据库表)，请使用下面的SELECT语句: </p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713201821882.png" alt="image-20220713201821882"></p>
<h3 id="SQL的INSERT-INTO语句"><a href="#SQL的INSERT-INTO语句" class="headerlink" title="SQL的INSERT INTO语句"></a>SQL的INSERT INTO语句</h3><h4 id="1-语句"><a href="#1-语句" class="headerlink" title="1.语句"></a>1.语句</h4><p>INSERT INTO语句用于向数据表中插入新的数据行，语法格式如下:</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713202552024.png" alt="image-20220713202552024"></p>
<h4 id="2-INSERT-INTO示例"><a href="#2-INSERT-INTO示例" class="headerlink" title="2.INSERT INTO示例"></a>2.INSERT INTO示例</h4><p>向users表中，插入一条username为tony stark, password 为098123的用户数据，示例如下: .</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713202637208.png" alt="image-20220713202637208"></p>
<h3 id="SQL的UPDATE语句"><a href="#SQL的UPDATE语句" class="headerlink" title="SQL的UPDATE语句"></a>SQL的UPDATE语句</h3><h4 id="1-语句-1"><a href="#1-语句-1" class="headerlink" title="1.语句"></a>1.语句</h4><p>Update语句用于修改表中的数据。语法格式如下:</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713203137364.png" alt="image-20220713203137364"></p>
<h4 id="2-UPDATE示例-更新某一行中的一个列"><a href="#2-UPDATE示例-更新某一行中的一个列" class="headerlink" title="2.UPDATE示例-更新某一行中的一个列"></a>2.UPDATE示例-更新某一行中的一个列</h4><p>把users表中id为7的用户密码，更新为888888.示例如下:</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713203310275.png" alt="image-20220713203310275"></p>
<h4 id="3-UPDATE示例-更新某一行中的若干列"><a href="#3-UPDATE示例-更新某一行中的若干列" class="headerlink" title="3.UPDATE示例-更新某一行中的若干列"></a>3.UPDATE示例-更新某一行中的若干列</h4><p>把users表中id为2的用户密码和用户状态，分别更新为admin123和1.示例如下: .</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713203839910.png" alt="image-20220713203839910"></p>
<h3 id="SQL的DELETE语句"><a href="#SQL的DELETE语句" class="headerlink" title="SQL的DELETE语句"></a>SQL的DELETE语句</h3><h4 id="1-语法-1"><a href="#1-语法-1" class="headerlink" title="1.语法"></a>1.语法</h4><p>DELETE语句用于删除表中的行。语法格式如下:</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713204215255.png" alt="image-20220713204215255"></p>
<h4 id="2-DELETE示例"><a href="#2-DELETE示例" class="headerlink" title="2.DELETE示例"></a>2.DELETE示例</h4><p>从users表中，删除id为4的用户，示例如下:</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713204302189.png" alt="image-20220713204302189"></p>
<p><strong>注意：一定要加where</strong></p>
<h3 id="SQL的WHERE子句"><a href="#SQL的WHERE子句" class="headerlink" title="SQL的WHERE子句"></a>SQL的WHERE子句</h3><h4 id="1-语法-2"><a href="#1-语法-2" class="headerlink" title="1.语法"></a>1.语法</h4><p>WHERE子句用于限定选择的标准。在SELECT、UPDATE、DELETE 语句中，皆可使用WHERE子句来限定选择的标准。</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713204639112.png" alt="image-20220713204639112"></p>
<h4 id="2-可在where子句中使用的运算符"><a href="#2-可在where子句中使用的运算符" class="headerlink" title="2.可在where子句中使用的运算符"></a>2.可在where子句中使用的运算符</h4><p>下面的运算符可在where子句中使用，用来限定选择的标准：</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713204859441.png" alt="image-20220713204859441"></p>
<p>注意：在某些版本sql中，操作符&lt;&gt;可以写为!&#x3D;</p>
<h4 id="3-WHERE子句示例"><a href="#3-WHERE子句示例" class="headerlink" title="3.WHERE子句示例"></a>3.WHERE子句示例</h4><p>可以通过WHERE子句来限定SELECT的查询条件:</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713205003534.png" alt="image-20220713205003534"></p>
<h3 id="SQL的AND和OR运算符"><a href="#SQL的AND和OR运算符" class="headerlink" title="SQL的AND和OR运算符"></a>SQL的AND和OR运算符</h3><h4 id="1-语法-3"><a href="#1-语法-3" class="headerlink" title="1.语法"></a>1.语法</h4><p>AND和OR可在WHERE子语句中把两个或多个条件结合起来。</p>
<ul>
<li>AND表示必须同时满足多个条件,相当于JavaScript中的&amp;&amp;运算符,例如if(a!&#x3D;&#x3D; 10&amp;&amp;a!&#x3D;&#x3D; 20)</li>
<li>OR表示只要满足任意一个条件即可. 相当于JavaScript中的II运算符,例如if(a!&#x3D;&#x3D; 10||a!&#x3D;&#x3D; 20)</li>
</ul>
<h4 id="2-AND运算符示例"><a href="#2-AND运算符示例" class="headerlink" title="2.AND运算符示例"></a>2.AND运算符示例</h4><p>使用AND来显示所有status为0,并且id小于3的用户:</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713205734070.png" alt="image-20220713205734070"></p>
<h4 id="3-OR运算符示例"><a href="#3-OR运算符示例" class="headerlink" title="3.OR运算符示例"></a>3.OR运算符示例</h4><p>使用OR来显示所有status为1,或者username为zs的用户:</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713205927224.png" alt="image-20220713205927224"></p>
<h3 id="SQL的ORDER-BY子句"><a href="#SQL的ORDER-BY子句" class="headerlink" title="SQL的ORDER BY子句"></a>SQL的ORDER BY子句</h3><h4 id="1-语法-4"><a href="#1-语法-4" class="headerlink" title="1.语法"></a>1.语法</h4><ul>
<li>ORDER BY语句用于根据指定的列对结果集进行排序。</li>
<li>ORDER BY语句默认按照升序对记录进行排序。</li>
<li>如果您希望按照降序对记录进行排序，可以使用ASC（可省略）关键字。</li>
<li>如果您希望按照降序对记录进行排序，可以使用DESC关键字。</li>
</ul>
<h4 id="2-OPDER-BY-子句-升序排序"><a href="#2-OPDER-BY-子句-升序排序" class="headerlink" title="2.OPDER BY 子句-升序排序"></a>2.OPDER BY 子句-升序排序</h4><p>对users表中的数据，按照status字段进行升序排序，示例如下:</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713210340012.png" alt="image-20220713210340012"></p>
<h4 id="3-ORDER-BY-子句-降序排序"><a href="#3-ORDER-BY-子句-降序排序" class="headerlink" title="3.ORDER BY 子句-降序排序"></a>3.ORDER BY 子句-降序排序</h4><p>对users表中的数据，按照id字段进行降序排序，示例如下:</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713210729998.png" alt="image-20220713210729998"></p>
<h4 id="4-ORDER-BY子句-多重排序"><a href="#4-ORDER-BY子句-多重排序" class="headerlink" title="4.ORDER BY子句-多重排序"></a>4.ORDER BY子句-多重排序</h4><p>对users表中的数据，先按照status字段进行降序排序，再按照username的字母顺序，进行升序排序,示例如下:</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713211027356.png" alt="image-20220713211027356"></p>
<h3 id="SQL的COUNT-函数"><a href="#SQL的COUNT-函数" class="headerlink" title="SQL的COUNT(*)函数"></a>SQL的COUNT(*)函数</h3><h4 id="1-语法-5"><a href="#1-语法-5" class="headerlink" title="1.语法"></a>1.语法</h4><p>COUNT()函数用于返回查询结果的总数据条数，语法格式如下:</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713211522705.png" alt="image-20220713211522705"></p>
<h4 id="2-COUNT-实例"><a href="#2-COUNT-实例" class="headerlink" title="2.COUNT(*)实例"></a>2.COUNT(*)实例</h4><p>查询users表中status为0的总数据条数：</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713211705196.png" alt="image-20220713211705196"></p>
<h4 id="2-使用AS为列设置别名"><a href="#2-使用AS为列设置别名" class="headerlink" title="2.使用AS为列设置别名"></a>2.使用AS为列设置别名</h4><p>如果希望给查询出来的列名称设置别名，可以使用AS关键字,示例如下:</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713211857686.png" alt="image-20220713211857686"></p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713212153424.png" alt="image-20220713212153424"></p>
<h1 id="在项目中操作数据库步骤"><a href="#在项目中操作数据库步骤" class="headerlink" title="在项目中操作数据库步骤"></a>在项目中操作数据库步骤</h1><h2 id="在项目中操作mySQL的步骤"><a href="#在项目中操作mySQL的步骤" class="headerlink" title="在项目中操作mySQL的步骤"></a>在项目中操作mySQL的步骤</h2><ol>
<li>安装操作MySQL数据库的第三方模块(mysql)</li>
<li>通过mysql模块连接到MySQL数据库</li>
<li>通过mysql模块执行SQL语句</li>
</ol>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713212735747.png" alt="image-20220713212735747"></p>
<h2 id="安装与配置musql模块"><a href="#安装与配置musql模块" class="headerlink" title="安装与配置musql模块"></a>安装与配置musql模块</h2><h3 id="1-安装mysql模块"><a href="#1-安装mysql模块" class="headerlink" title="1.安装mysql模块"></a>1.安装mysql模块</h3><p>mysql模块是托管于npm.上的第三方模块。它提供了在Node.js项目中连接和操作MySQL数据库的能力。</p>
<p>想要在项目中使用它，需要先运行如下命令,将mysql安装为项目的依赖包:</p>
<h3 id="2-配置mysql模块"><a href="#2-配置mysql模块" class="headerlink" title="2.配置mysql模块"></a>2.配置mysql模块</h3><p>在使用mysq|模块操作MySQL数据库之前，必须先对mysql模块进行必要的配置，主要的配置步骤如下:</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713213356159.png" alt="image-20220713213356159"></p>
<h3 id="3-测试mysql模块能否正常工作"><a href="#3-测试mysql模块能否正常工作" class="headerlink" title="3.测试mysql模块能否正常工作"></a>3.测试mysql模块能否正常工作</h3><p>调用db.query()函数，指定要执行的SQL语句，通过回调函数拿到执行的结果：</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713214251680.png" alt="image-20220713214251680"></p>
<blockquote>
<p>‘select 1’ 测试mysql这个模块能否正常工作</p>
</blockquote>
<h2 id="使用mysql模块操作mysql数据库"><a href="#使用mysql模块操作mysql数据库" class="headerlink" title="使用mysql模块操作mysql数据库"></a>使用mysql模块操作mysql数据库</h2><h3 id="1-查询数据"><a href="#1-查询数据" class="headerlink" title="1.查询数据"></a>1.查询数据</h3><p>查询users表中所有的数据:</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713215003242.png" alt="image-20220713215003242"></p>
<blockquote>
<p>注意：如果执行的是<strong>select</strong>查询语句，则执行的结果是<strong>数组</strong></p>
</blockquote>
<h3 id="2-插入数据"><a href="#2-插入数据" class="headerlink" title="2.插入数据"></a>2.插入数据</h3><p>向users表中新增数据，其中username为Spider-Man, password 为pcc321.示例代码如下:</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713215445821.png" alt="image-20220713215445821"></p>
<blockquote>
<p>?符号可以进行数据的占位</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 向users表中新增一条数据，其中username的值为Spider-Man，password的值为pcc123</span></span><br><span class="line"><span class="keyword">const</span> user = &#123;</span><br><span class="line">    <span class="attr">username</span>: <span class="string">&#x27;Spider-Man&#x27;</span>,</span><br><span class="line">    <span class="attr">password</span>: <span class="string">&#x27;pcc123&#x27;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 定义待执行的SQL语句</span></span><br><span class="line"><span class="keyword">const</span> sqlStr = <span class="string">&#x27;insert into users (usernams,password) values (?,?)&#x27;</span>;</span><br><span class="line"></span><br><span class="line">db.<span class="title function_">query</span>(sqlStr, [user.<span class="property">username</span>, user.<span class="property">password</span>], <span class="function">(<span class="params">err, results</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 执行sql语句失败</span></span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(err.<span class="property">message</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">// 执行成功</span></span><br><span class="line">    <span class="comment">// 注意：如果执行的是insert into插入语句，则results是一个对象</span></span><br><span class="line">    <span class="comment">// 可以通过affectedRows属性，来判断是否插入数据成功</span></span><br><span class="line">    <span class="keyword">if</span> (results.<span class="property">affectedRows</span> === <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;插入数据成功！&#x27;</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<blockquote>
<ol>
<li>注意：如果执行的是insert into插入语句，则results是一个对象，可以通过affectedRows属性，来判断是否插入数据成功</li>
<li>注意：数据的id具有唯一性，所以添加的数据可能不是按照正确顺序添加，使用过某一id的    数据就算被删除其id也不能被替代</li>
</ol>
</blockquote>
<h3 id="3-插入数据的便捷方式"><a href="#3-插入数据的便捷方式" class="headerlink" title="3.插入数据的便捷方式"></a>3.插入数据的便捷方式</h3><p>向表中新增数据时，如果数据对象的每个属性和数据表的字段一一对应， 则可以通过如下方式快速插入数据:</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713221320032.png" alt="image-20220713221320032"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 演示插入数据的便捷方式</span></span><br><span class="line"><span class="keyword">const</span> user = &#123;</span><br><span class="line">    <span class="attr">usernams</span>: <span class="string">&#x27;Spider-man2&#x27;</span>,</span><br><span class="line">    <span class="attr">password</span>: <span class="string">&#x27;pcc456&#x27;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 定义待执行的SQL语句</span></span><br><span class="line"><span class="keyword">const</span> sqlStr = <span class="string">&#x27;insert into users set ?&#x27;</span>;</span><br><span class="line"><span class="comment">// 执行SQL语句</span></span><br><span class="line">db.<span class="title function_">query</span>(sqlStr, user, <span class="function">(<span class="params">err, results</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(err.<span class="property">message</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">if</span> (results.<span class="property">affectedRows</span> === <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;插入数据成功！&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="4-更新数据"><a href="#4-更新数据" class="headerlink" title="4.更新数据"></a>4.更新数据</h3><p>可以通过以下方法，更新表中的数据：</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713222055845.png" alt="image-20220713222055845"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.要更新的数据对象</span></span><br><span class="line"><span class="keyword">const</span> user = &#123;</span><br><span class="line">    <span class="attr">id</span>: <span class="number">6</span>,</span><br><span class="line">    <span class="attr">usernams</span>: <span class="string">&#x27;张三&#x27;</span>,</span><br><span class="line">    <span class="attr">password</span>: <span class="string">&#x27;000&#x27;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 2.定义SQL语句</span></span><br><span class="line"><span class="keyword">const</span> sqlStr = <span class="string">&#x27;update users set usernams=?,password=? where id=?&#x27;</span>;</span><br><span class="line"><span class="comment">// 3.执行sql语句</span></span><br><span class="line">db.<span class="title function_">query</span>(sqlStr, [user.<span class="property">usernams</span>, user.<span class="property">password</span>, user.<span class="property">id</span>], <span class="function">(<span class="params">err, results</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(err.<span class="property">message</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">if</span> (results.<span class="property">affectedRows</span> === <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;更新数据成功！&#x27;</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意：执行了update语句后，执行的结果，也是一个对象，可以通过affectedRows判断是否更新成功</p>
</blockquote>
<h3 id="5-更新数据的便捷方式"><a href="#5-更新数据的便捷方式" class="headerlink" title="5.更新数据的便捷方式"></a>5.更新数据的便捷方式</h3><p>更新表数据时，如果数据对象的每个属性和数据表的字段一-对应， 则可以通过如下方式快速更新表数据:</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713223115964.png" alt="image-20220713223115964"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 演示更新数据的便捷方式</span></span><br><span class="line"><span class="keyword">const</span> user = &#123;</span><br><span class="line">    <span class="attr">id</span>: <span class="number">6</span>,</span><br><span class="line">    <span class="attr">usernams</span>: <span class="string">&#x27;李四&#x27;</span>,</span><br><span class="line">    <span class="attr">password</span>: <span class="string">&#x27;000&#x27;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 定义SQL语句</span></span><br><span class="line"><span class="keyword">const</span> sqlStr = <span class="string">&#x27;update users set ? where id=?&#x27;</span>;</span><br><span class="line"><span class="comment">// 执行sql语句</span></span><br><span class="line">db.<span class="title function_">query</span>(sqlStr, [user, user.<span class="property">id</span>], <span class="function">(<span class="params">err, results</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(err.<span class="property">message</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">if</span> (results.<span class="property">affectedRows</span> === <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;更新数据成功！&#x27;</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="6-删除数据"><a href="#6-删除数据" class="headerlink" title="6.删除数据"></a>6.删除数据</h3><p>在删除数据时，推荐根据id这样的唯一标识，来删除对应的数据。示例如下:</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713223644939.png" alt="image-20220713223644939"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 删除id为5的用户</span></span><br><span class="line"><span class="keyword">const</span> sqlStr = <span class="string">&#x27;delete from users where id=?&#x27;</span>;</span><br><span class="line"></span><br><span class="line">db.<span class="title function_">query</span>(sqlStr, <span class="number">5</span>, <span class="function">(<span class="params">err, results</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(err.<span class="property">message</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">if</span> (results.<span class="property">affectedRows</span> === <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;删除数据成功！&#x27;</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="7-标记删除"><a href="#7-标记删除" class="headerlink" title="7.标记删除"></a>7.标记删除</h3><p>使用DELETE语句，会把真正的把数据从表中删除掉。为了保险起见，推荐使用标记删除的形式，来模拟删除的动作。</p>
<p>所谓的标记删除，就是在表中设置类似于status这样的状态字段，来标记当前这条数据是否被删除。<br>当用户执行了删除的动作时，我们并没有执行DELETE语句把数据删除掉，而是执行了UPDATE语句,将这条数据对应的status字段标记为删除即可。</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713224853028.png" alt="image-20220713224853028"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 标记删除</span></span><br><span class="line"><span class="keyword">const</span> sqlStr = <span class="string">&#x27;update users set status=? where id=?&#x27;</span>;</span><br><span class="line">db.<span class="title function_">query</span>(sqlStr, [<span class="number">1</span>, <span class="number">6</span>], <span class="function">(<span class="params">err, results</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(err.<span class="property">message</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">if</span> (results.<span class="property">affectedRows</span> === <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;标记数据成功！&#x27;</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h1 id="Web开发模式"><a href="#Web开发模式" class="headerlink" title="Web开发模式"></a>Web开发模式</h1><blockquote>
<p>目前主流的Web开发模式有两种，分别是：</p>
<ol>
<li>基于服务端渲染的传统web开发模式</li>
<li>基于前后端分离的新型web开发模式</li>
</ol>
</blockquote>
<h2 id="1-服务端渲染的web开发模式"><a href="#1-服务端渲染的web开发模式" class="headerlink" title="1.服务端渲染的web开发模式"></a>1.服务端渲染的web开发模式</h2><p>服务端渲染的概念:服务器发送给客户端的HTML页面，是在服务器通过字符串的拼接，动态生成的。因此，客户端不需要使用Ajax这样的技术额外请求页面的数据。代码示例如下:</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220713230024974.png" alt="image-20220713230024974"></p>
<h4 id="服务端渲染的优缺点"><a href="#服务端渲染的优缺点" class="headerlink" title="服务端渲染的优缺点"></a>服务端渲染的优缺点</h4><p><strong>优点:</strong></p>
<ol>
<li>前端耗时少。 因为服务器端负责动态生成HTML内容,浏览器只需要直接渲染页面即可。尤其是移动端，更省电。</li>
<li>有利于SEO. 因为服务器端响应的是完整的HTML页面内容,所以爬虫更容易爬取获得信息，更有利于SEO</li>
</ol>
<p><strong>缺点:</strong></p>
<ol>
<li>占用服务器端资源。 即服务器端完成HTML页面内容的拼接，如果请求较多,会对服务器造成一定的访问压力。</li>
<li>不利于前后端分离, 开发效率低。使用服务器端渲染，则无法进行分工合作,尤其对于前端复杂度高的项目,不利于项目高效开发。</li>
</ol>
<h2 id="2-前后端分离的优缺点"><a href="#2-前后端分离的优缺点" class="headerlink" title="2.前后端分离的优缺点"></a>2.前后端分离的优缺点</h2><h4 id="服务端渲染的优缺点-1"><a href="#服务端渲染的优缺点-1" class="headerlink" title="服务端渲染的优缺点"></a>服务端渲染的优缺点</h4><p><strong>优点:</strong></p>
<ol>
<li>开发体验好。 前端专注于UI页面的开发,后端专注于api的开发,且前端有更多的选择性。</li>
<li>用户体验好。 Ajax 技术的广泛应用,极大的提高了用户的体验，可以轻松实现页面的局部刷新</li>
<li>减轻了服务器端的渲染压力。因为页面最终是在每个用户的浏览器中生成的。</li>
</ol>
<p><strong>缺点:</strong></p>
<ol>
<li>不利于SEO(爬虫).因为完整的HTML页面需要在客户端动态拼接完成，所以爬虫对无法爬取页面的有效信息。(解决方案:利用Vue. React 等前端框架的SSR (server side render)技术能够很好的解决SEO问题! )</li>
</ol>
<h2 id="如何选择Web开发模式"><a href="#如何选择Web开发模式" class="headerlink" title="如何选择Web开发模式"></a>如何选择Web开发模式</h2><p>不谈业务场景而盲目选择使用何种开发模式都是耍流氓。</p>
<blockquote>
<ol>
<li>比如企业级网站,主要功能是展示而没有复杂的交互,并且需要良好的SEO,则这时我们就需要使用服务器端渲染;</li>
<li>而类似后台管理项目，交互性比较强，不需要考虑SEO,那么就可以使用前后端分离的开发模式。</li>
</ol>
</blockquote>
<p>另外，具体使用何种开发模式并不是绝对的，为为同时兼顾了首页的渲染速度和前后端分离的开发效率，一些网站采用了首屏服务器端渲染+其他页面前后端分离的开发模式。</p>
<h1 id="身份认证"><a href="#身份认证" class="headerlink" title="身份认证"></a>身份认证</h1><h2 id="什么是身份认证"><a href="#什么是身份认证" class="headerlink" title="什么是身份认证"></a>什么是身份认证</h2><p>身份认证(Authentication) 又称”身份验证”、”鉴权” ，是指通过-定的手段，完成对用户身份的确认。</p>
<ul>
<li>日常生活中的身份认证随处可见，例如:高铁的验票乘车，手机的密码或指纹解锁，支付宝或微信的支付密码等。</li>
<li>在Web开发中，也涉及到用户身份的认证，例如:各大网站的手机验证码登录、邮箱密码登录、二维码登录等。</li>
</ul>
<h2 id="不同开发模式下的身份认证"><a href="#不同开发模式下的身份认证" class="headerlink" title="不同开发模式下的身份认证"></a>不同开发模式下的身份认证</h2><p>对于服务端渲染和前后端分离这两种开发模式来说，分别有着不同的身份认证方案:</p>
<ol>
<li>服各端渲染推荐使用<strong>Session</strong>认证机制</li>
<li>前后端分离推荐使用<strong>JWT</strong>认证机制</li>
</ol>
<h2 id="Session认证机制"><a href="#Session认证机制" class="headerlink" title="Session认证机制"></a>Session认证机制</h2><h3 id="HTTP协议的无状态性"><a href="#HTTP协议的无状态性" class="headerlink" title="HTTP协议的无状态性"></a>HTTP协议的无状态性</h3><p>了解HTTP协议的无状态性是进一步学习Session认证机制的必要前提。<br>HTTP协议的无状态性,指的是客户端的每次HTTP请求都是独立的，连续多个请求之间没有直接的关系，服务器不会主动保留每次HTTP请求的状态。</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714192603710.png" alt="image-20220714192603710"></p>
<h3 id="如何突破HTTP无状态的限制"><a href="#如何突破HTTP无状态的限制" class="headerlink" title="如何突破HTTP无状态的限制"></a>如何突破HTTP无状态的限制</h3><p>对于超市来说，为了方便收银员在进行结算时给VIP用户打折,超市可以为每个VIP用户发放会员卡。</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714192702651.png" alt="image-20220714192702651"></p>
<blockquote>
<p>注意:现实生活中的会员卡身份认证方式，在Web开发中的专业术语叫做<strong>Cookie</strong>。</p>
</blockquote>
<h3 id="什么是Cookie"><a href="#什么是Cookie" class="headerlink" title="什么是Cookie"></a>什么是Cookie</h3><blockquote>
<p>Cookie是存储在用户浏览器中的一段不超过4 KB的字符串。它由一一个名称(Name)、-个值(Value) 和其它几个用于控制Cookie有效期、安全性、使用范围的可选属性组成。</p>
</blockquote>
<p>不同域名下的Cookie各自独立，每当客户端发起请求时，会自动把当前域名下所有未过期的Cookie一同发送到服务器。</p>
<p>Cookie的几大特性:</p>
<ol>
<li>自动发送</li>
<li>域名独立</li>
<li>过期时限</li>
<li>4KB 限制</li>
</ol>
<h4 id="Cookie在身份认证中的作用"><a href="#Cookie在身份认证中的作用" class="headerlink" title="Cookie在身份认证中的作用"></a>Cookie在身份认证中的作用</h4><ul>
<li>客户端第一-次请求服务器的时候，服务器通过响应头的形式，向客户端发送一个身份认证的Cookie,客户端会自动将Cookie保存在浏览器中。</li>
<li>随后，当客户端浏览器每次请求服务器的时候，浏览器会自动将身份认证相关的Cookie,通过请求头的形式发送给服务器，服务器即可验明客户端的身份。</li>
</ul>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714193346444.png" alt="image-20220714193346444"></p>
<h4 id="Cookie不具有安全性"><a href="#Cookie不具有安全性" class="headerlink" title="Cookie不具有安全性"></a>Cookie不具有安全性</h4><p>由于Cookie是存储在浏览器中的，而且浏览器也提供了读写Cookie的API，因此Cookie很容易被伪造，不具有安全性。因此不建议服务器将重要的隐私数据，通过Cookie的形式发送给浏览器。</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714193659593.png" alt="image-20220714193659593"></p>
<blockquote>
<p>注意：千万不要使用Cookie存储用户的信息</p>
</blockquote>
<h4 id="提高身份认证的安全性"><a href="#提高身份认证的安全性" class="headerlink" title="提高身份认证的安全性"></a>提高身份认证的安全性</h4><p>为了防止客户伪造会员卡,收银员在拿到客户出示的会员卡之后，可以在收银机上进行刷卡认证。只有收银机确认存在的会员卡，才能被正常使用。</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714193843904.png" alt="image-20220714193843904"></p>
<blockquote>
<p>这种”会员卡+刷卡认证”的设计理念,就是Session认证机制的精髓。</p>
</blockquote>
<h2 id="Session的工作原理"><a href="#Session的工作原理" class="headerlink" title="Session的工作原理"></a>Session的工作原理</h2><p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714194043942.png" alt="image-20220714194043942"></p>
<h3 id="在Express-session中间件"><a href="#在Express-session中间件" class="headerlink" title="在Express-session中间件"></a>在Express-session中间件</h3><h4 id="1-安装express-session中间件"><a href="#1-安装express-session中间件" class="headerlink" title="1.安装express-session中间件"></a>1.安装express-session中间件</h4><p>在Express项目中，只需要安装express-session中间件，即可在项目中使用Session认证：</p>
<p><code>npm install express-session</code></p>
<h4 id="2-配置sxpress-session中间件"><a href="#2-配置sxpress-session中间件" class="headerlink" title="2.配置sxpress-session中间件"></a>2.配置sxpress-session中间件</h4><p>express-session中间件安装成功后，需要通过app.use(来注册session中间件，示例代码如下:</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714195052990.png" alt="image-20220714195052990"></p>
<h4 id="3-向session中存数据"><a href="#3-向session中存数据" class="headerlink" title="3.向session中存数据"></a>3.向session中存数据</h4><p>当express- session中间件配置成功后，即可通过req.session来访问和使用session对象，从而存储用户的关键信息:</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714202516094.png" alt="image-20220714202516094"></p>
<h4 id="4-从session中取数据"><a href="#4-从session中取数据" class="headerlink" title="4.从session中取数据"></a>4.从session中取数据</h4><p>可以直接从req.session对象上获取之前存储的数据。实例：</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714203759869.png" alt="image-20220714203759869"></p>
<h4 id="5-清空session"><a href="#5-清空session" class="headerlink" title="5.清空session"></a>5.清空session</h4><p>调用req.session.destroy0函数，即可清空服务器保存的session信息。</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714204107954.png" alt="image-20220714204107954"></p>
<blockquote>
<p>调用<em>req</em>.session.destroy();只会清空当前用户的数据</p>
</blockquote>
<h2 id="JWT认证机制"><a href="#JWT认证机制" class="headerlink" title="JWT认证机制"></a>JWT认证机制</h2><h3 id="Session认证局限性"><a href="#Session认证局限性" class="headerlink" title="Session认证局限性"></a>Session认证局限性</h3><p>Session认证机制需要配合Cookie才能实现。由于Cookie默认不支持跨域访问，所以，当涉及到前端跨域请求后端接口的时候，需要做很多额外的配置，才能实现跨域Session认证。</p>
<p>注意:</p>
<ul>
<li><p>当前端请求后端接口不存在跨域问题的时候，推荐使用Session身份认证机制。</p>
</li>
<li><p>当前端需要跨域请求后端接口的时候，不推荐使用Session身份认证机制，推荐使用JWT认证机制。</p>
</li>
</ul>
<h3 id="什么是JWT"><a href="#什么是JWT" class="headerlink" title="什么是JWT"></a>什么是JWT</h3><p>JWT (英文全称: JSON Web Token)是目前最流行的跨域认证解决方案。</p>
<h4 id="JWT工作原理"><a href="#JWT工作原理" class="headerlink" title="JWT工作原理"></a>JWT工作原理</h4><p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714205132872.png" alt="image-20220714205132872"></p>
<blockquote>
<p>总结:用户的信息通过Token字符串的形式，保存在客户端浏览器中。服务器通过还原Token字符串的形式来认证用户的身份.</p>
</blockquote>
<h4 id="JWT组成部分"><a href="#JWT组成部分" class="headerlink" title="JWT组成部分"></a>JWT组成部分</h4><p>JWT通常由三部分组成，分别是Header (头部)、Payload (有效荷载)、Signature (签名) .<br>三者之间使用英文的”.” 分隔，格式如下:</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714205348970.png" alt="image-20220714205348970"></p>
<p>下面是JWT字符串的实例：</p>
<img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714205437367.png" alt="image-20220714205437367">

<h4 id="JWT的三个部分各自代表的含义"><a href="#JWT的三个部分各自代表的含义" class="headerlink" title="JWT的三个部分各自代表的含义"></a>JWT的三个部分各自代表的含义</h4><p>JWT的三个组成部分，从前到后分别是Header、Payload、 Signature.<br>其中:</p>
<ul>
<li>Payload 部分才是真正的用户信息，它是用户信息经过加密之后生成的字符串。</li>
<li>Header 和Signature是安全性相关的部分,只是为了保证Token的安全性。</li>
</ul>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714205702810.png" alt="image-20220714205702810"></p>
<h3 id="JWT的使用方式"><a href="#JWT的使用方式" class="headerlink" title="JWT的使用方式"></a>JWT的使用方式</h3><p>客户端收到服务器返回的JWT之后,通常会将它储存在<strong>localStorage</strong>或<strong>sessionStorage</strong>中。<br>此后，客户端每次与服务器通信，都要带上这个JWT的字符串,从而进行身份认证。推荐的做法是把JWT放在HTTP请求头的<code>Authorization</code>字段中，格式如下:</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714205908830.png" alt="image-20220714205908830"></p>
<h3 id="在Express中使用JWT"><a href="#在Express中使用JWT" class="headerlink" title="在Express中使用JWT"></a>在Express中使用JWT</h3><h4 id="安装相应的包"><a href="#安装相应的包" class="headerlink" title="安装相应的包"></a>安装相应的包</h4><p>执行以下命令，安装两个JWT相关的包：</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714205957242.png" alt="image-20220714205957242"></p>
<p>其中:</p>
<ul>
<li><strong>jsonwebtoken</strong>用于生成JWT字符串</li>
<li><strong>express-jwt</strong> 用于将JWT字符串解析还原成JSON对象</li>
</ul>
<h4 id="导入JWT相关的包"><a href="#导入JWT相关的包" class="headerlink" title="导入JWT相关的包"></a>导入JWT相关的包</h4><p>使用require()函数，分别导入JWT相关的两个包：</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714210155726.png" alt="image-20220714210155726"></p>
<p>注意：</p>
<p>新版express-jwt导入方式被切换为</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// TODO_01：安装并导入 JWT 相关的两个包，分别是 jsonwebtoken 和 express-jwt</span></span><br><span class="line"><span class="keyword">const</span> jwt = <span class="built_in">require</span>(<span class="string">&#x27;jsonwebtoken&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 旧的：const expressJWT = require(&#x27;express-jwt&#x27;);</span></span><br><span class="line"><span class="keyword">const</span> &#123; <span class="attr">expressjwt</span>: expressJWT &#125; = <span class="built_in">require</span>(<span class="string">&#x27;express-jwt&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714214407342.png" alt="image-20220714214407342"></p>
<h4 id="定义secret密钥"><a href="#定义secret密钥" class="headerlink" title="定义secret密钥"></a>定义secret密钥</h4><p>为了<strong>保证JWT字符串的安全性</strong>,防止JWT字符串在网络传输过程中被别人破解,我们需要专]定义一个用于加密和解密的secret密钥:</p>
<ol>
<li>当生成JWT字符串的时候，需要使用secret密钥对用户的信息<strong>进行加密</strong>，最终得到加密好的JWT字符串</li>
<li>当把JWT字符串解析还原成JSON对象的时候,需要使用secret密钥<strong>进行解密</strong></li>
</ol>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714210641817.png" alt="image-20220714210641817"></p>
<h4 id="在登录成功后生成JWT字符串"><a href="#在登录成功后生成JWT字符串" class="headerlink" title="在登录成功后生成JWT字符串"></a>在登录成功后生成JWT字符串</h4><p>调用<strong>jsonwebtoken</strong>包提供的<strong>sign()</strong> 方法,将用户的信息加密成JWT字符串，响应给客户端:</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714210913295.png" alt="image-20220714210913295"></p>
<ul>
<li>参数1：用户的信息对象</li>
<li>参数2：加密的密钥</li>
<li>参数2：配置对象，可以配置当前token的有效期</li>
</ul>
<h4 id="将JWT字符串还原为JSON对象"><a href="#将JWT字符串还原为JSON对象" class="headerlink" title="将JWT字符串还原为JSON对象"></a>将JWT字符串还原为JSON对象</h4><p>客户端每次在访问那些有权限接口的时候，都需要主动通过请求头中的Authorization字段，将Token字符串发送到服务器进行身份认证。<br>此时，服务器可以通过express-jwt这个中间件,自动将客户端发送过来的Token解析还原成JSON对象:</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714211600604.png" alt="image-20220714211600604"></p>
<p>新版写法被改为：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app.<span class="title function_">use</span>(<span class="title function_">expressJWT</span>(&#123; <span class="attr">secret</span>: secretKey, <span class="attr">algorithms</span>: [<span class="string">&#x27;HS256&#x27;</span>] &#125;).<span class="title function_">unless</span>(&#123; <span class="attr">path</span>:[<span class="regexp">/^\/api\//</span>] &#125;));</span><br></pre></td></tr></table></figure>

<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714214446368.png" alt="image-20220714214446368"></p>
<h4 id="使用req-auth获取用户信息"><a href="#使用req-auth获取用户信息" class="headerlink" title="使用req.auth获取用户信息"></a>使用req.auth获取用户信息</h4><p>当express-jwt这个中间件配置成功之后，即可在那些有权限的接口中，使用req.auth对象,来访问从JWT字符串<br>中解析出来的用户信息了，示例代码如下:</p>
<blockquote>
<p>新版本必须使用<strong>req.auth</strong>接收数据</p>
</blockquote>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714215923923.png" alt="image-20220714215923923"></p>
<h5 id="postman请求示例："><a href="#postman请求示例：" class="headerlink" title="postman请求示例："></a>postman请求示例：</h5><p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714220045105.png" alt="image-20220714220045105"></p>
<blockquote>
<p>返还回来的数据是一个只能存在30s的令牌(自定义)</p>
</blockquote>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714220145337.png" alt="image-20220714220145337"></p>
<blockquote>
<p>发起get请求获取参数时候必须携带<strong>Authorization</strong>，value的值是post返还的加密字符串，前面必须空格加上<strong>Bearer</strong></p>
<p>示例：</p>
<p>Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImFkbWluIiwiaWF0IjoxNjU3ODA3MDU4LCJleHAiOjE2NTc4MDcxMDh9.yelhnZthBSHXRH2P9Ch7gEp7LwfK7P1JlL76HdUATJ0</p>
</blockquote>
<h4 id="捕获解析JWT失败后产生的错误"><a href="#捕获解析JWT失败后产生的错误" class="headerlink" title="捕获解析JWT失败后产生的错误"></a>捕获解析JWT失败后产生的错误</h4><p>当使用express-jwt解析Token字符串时,如果客户端发送过来的Token字符串过期或不合法，会产生-个解析失败的错误，影响项目的正常运行。我们可以通过Express的错误中间件,捕获这个错误并进行相关的处理,示例代码如下:</p>
<p><img src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/image-20220714220815116.png" alt="image-20220714220815116"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// TODO_06：使用全局错误处理中间件，捕获解析 JWT 失败后产生的错误</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="function">(<span class="params">err, req, res, next</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (err.<span class="property">name</span> === <span class="string">&#x27;UnauthorizedError&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> res.<span class="title function_">send</span>(&#123;</span><br><span class="line">            <span class="attr">status</span>: <span class="number">401</span>,</span><br><span class="line">            <span class="attr">message</span>: <span class="string">&#x27;无效的token&#x27;</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    res.<span class="title function_">send</span>(&#123;</span><br><span class="line">        <span class="attr">status</span>: <span class="number">500</span>,</span><br><span class="line">        <span class="attr">message</span>: <span class="string">&#x27;未知错误&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>


    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/found404.io/tags/Mysql/" rel="tag"># Mysql</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/found404.io/2022/07/07/%E5%85%B3%E4%BA%8Enode%E7%88%AC%E8%99%AB/" rel="prev" title="简单的node爬虫">
      <i class="fa fa-chevron-left"></i> 简单的node爬虫
    </a></div>
      <div class="post-nav-item"></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    
  <div class="comments">
    <div id="lv-container" data-id="city" data-uid="MTAyMC81Njc5NC8zMzI1OA=="></div>
  </div>
  

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Mysql%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="nav-number">1.</span> <span class="nav-text">Mysql基本概念</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E4%BB%80%E4%B9%88%E6%98%AF%E6%95%B0%E6%8D%AE%E5%BA%93-%F0%9F%A4%94"><span class="nav-number">1.1.</span> <span class="nav-text">1.什么是数据库 🤔</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E5%B8%B8%E8%A7%81%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BB%A5%E5%8F%8A%E5%88%86%E7%B1%BB"><span class="nav-number">1.2.</span> <span class="nav-text">2.常见的数据库以及分类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-%E4%BC%A0%E7%BB%9F%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E6%95%B0%E6%8D%AE%E9%98%BB%E6%AD%A2%E7%BB%93%E6%9E%84"><span class="nav-number">1.3.</span> <span class="nav-text">3.传统型数据库的数据阻止结构</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-Excel%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%84%E7%BB%87%E7%BB%93%E6%9E%84"><span class="nav-number">1.3.1.</span> <span class="nav-text">1.Excel的数据组织结构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E4%BC%A0%E7%BB%9F%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%84%E7%BB%87%E7%BB%93%E6%9E%84"><span class="nav-number">1.3.2.</span> <span class="nav-text">2.传统型数据库的数据组织结构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E5%AE%9E%E9%99%85%E5%BC%80%E5%8F%91%E4%B8%AD%E5%BA%93%E3%80%81%E8%A1%A8%E3%80%81%E8%A1%8C%E3%80%81%E5%AD%97%E6%AE%B5%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="nav-number">1.3.3.</span> <span class="nav-text">3.实际开发中库、表、行、字段的关系</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AE%89%E8%A3%85%E5%B9%B6%E9%85%8D%E7%BD%AEMySQL"><span class="nav-number">2.</span> <span class="nav-text">安装并配置MySQL</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%86%E8%A7%A3%E9%9C%80%E8%A6%81%E5%AE%89%E8%A3%85%E5%93%AA%E4%BA%9BMySQL%E7%9B%B8%E5%85%B3%E7%9A%84%E8%BD%AF%E4%BB%B6"><span class="nav-number">2.1.</span> <span class="nav-text">了解需要安装哪些MySQL相关的软件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MySQL%E5%9C%A8Windows%E7%8E%AF%E5%A2%83%E4%B8%8B%E7%9A%84%E5%AE%89%E8%A3%85"><span class="nav-number">2.2.</span> <span class="nav-text">MySQL在Windows环境下的安装</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8MySQL-Workbench%E7%AE%A1%E7%90%86%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-number">3.</span> <span class="nav-text">使用MySQL Workbench管理数据库</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-number">3.1.</span> <span class="nav-text">1.创建数据库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E8%A1%A8"><span class="nav-number">3.2.</span> <span class="nav-text">2.创建数据表</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-%E5%90%91%E8%A1%A8%E4%B8%AD%E5%86%99%E5%85%A5%E6%95%B0%E6%8D%AE"><span class="nav-number">3.3.</span> <span class="nav-text">3.向表中写入数据</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFSQL"><span class="nav-number">4.</span> <span class="nav-text">什么是SQL</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#SQL%E8%83%BD%E5%81%9A%E4%BB%80%E4%B9%88"><span class="nav-number">4.1.</span> <span class="nav-text">SQL能做什么</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SQL%E7%9A%84%E5%AD%A6%E4%B9%A0%E7%9B%AE%E6%A0%87"><span class="nav-number">4.2.</span> <span class="nav-text">SQL的学习目标</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SQL%E8%AF%AD%E6%B3%95"><span class="nav-number">4.3.</span> <span class="nav-text">SQL语法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#SQL%E7%9A%84SELECT%E8%AF%AD%E5%8F%A5"><span class="nav-number">4.3.1.</span> <span class="nav-text">SQL的SELECT语句</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E8%AF%AD%E6%B3%95"><span class="nav-number">4.3.1.1.</span> <span class="nav-text">1.语法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-SELECT-%E7%A4%BA%E4%BE%8B"><span class="nav-number">4.3.1.2.</span> <span class="nav-text">2.SELECT*示例</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-SELECT%E5%88%97%E5%90%8D%E7%A7%B0%E7%A4%BA%E4%BE%8B"><span class="nav-number">4.3.1.3.</span> <span class="nav-text">3.SELECT列名称示例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SQL%E7%9A%84INSERT-INTO%E8%AF%AD%E5%8F%A5"><span class="nav-number">4.3.2.</span> <span class="nav-text">SQL的INSERT INTO语句</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E8%AF%AD%E5%8F%A5"><span class="nav-number">4.3.2.1.</span> <span class="nav-text">1.语句</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-INSERT-INTO%E7%A4%BA%E4%BE%8B"><span class="nav-number">4.3.2.2.</span> <span class="nav-text">2.INSERT INTO示例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SQL%E7%9A%84UPDATE%E8%AF%AD%E5%8F%A5"><span class="nav-number">4.3.3.</span> <span class="nav-text">SQL的UPDATE语句</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E8%AF%AD%E5%8F%A5-1"><span class="nav-number">4.3.3.1.</span> <span class="nav-text">1.语句</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-UPDATE%E7%A4%BA%E4%BE%8B-%E6%9B%B4%E6%96%B0%E6%9F%90%E4%B8%80%E8%A1%8C%E4%B8%AD%E7%9A%84%E4%B8%80%E4%B8%AA%E5%88%97"><span class="nav-number">4.3.3.2.</span> <span class="nav-text">2.UPDATE示例-更新某一行中的一个列</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-UPDATE%E7%A4%BA%E4%BE%8B-%E6%9B%B4%E6%96%B0%E6%9F%90%E4%B8%80%E8%A1%8C%E4%B8%AD%E7%9A%84%E8%8B%A5%E5%B9%B2%E5%88%97"><span class="nav-number">4.3.3.3.</span> <span class="nav-text">3.UPDATE示例-更新某一行中的若干列</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SQL%E7%9A%84DELETE%E8%AF%AD%E5%8F%A5"><span class="nav-number">4.3.4.</span> <span class="nav-text">SQL的DELETE语句</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E8%AF%AD%E6%B3%95-1"><span class="nav-number">4.3.4.1.</span> <span class="nav-text">1.语法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-DELETE%E7%A4%BA%E4%BE%8B"><span class="nav-number">4.3.4.2.</span> <span class="nav-text">2.DELETE示例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SQL%E7%9A%84WHERE%E5%AD%90%E5%8F%A5"><span class="nav-number">4.3.5.</span> <span class="nav-text">SQL的WHERE子句</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E8%AF%AD%E6%B3%95-2"><span class="nav-number">4.3.5.1.</span> <span class="nav-text">1.语法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E5%8F%AF%E5%9C%A8where%E5%AD%90%E5%8F%A5%E4%B8%AD%E4%BD%BF%E7%94%A8%E7%9A%84%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">4.3.5.2.</span> <span class="nav-text">2.可在where子句中使用的运算符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-WHERE%E5%AD%90%E5%8F%A5%E7%A4%BA%E4%BE%8B"><span class="nav-number">4.3.5.3.</span> <span class="nav-text">3.WHERE子句示例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SQL%E7%9A%84AND%E5%92%8COR%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">4.3.6.</span> <span class="nav-text">SQL的AND和OR运算符</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E8%AF%AD%E6%B3%95-3"><span class="nav-number">4.3.6.1.</span> <span class="nav-text">1.语法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-AND%E8%BF%90%E7%AE%97%E7%AC%A6%E7%A4%BA%E4%BE%8B"><span class="nav-number">4.3.6.2.</span> <span class="nav-text">2.AND运算符示例</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-OR%E8%BF%90%E7%AE%97%E7%AC%A6%E7%A4%BA%E4%BE%8B"><span class="nav-number">4.3.6.3.</span> <span class="nav-text">3.OR运算符示例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SQL%E7%9A%84ORDER-BY%E5%AD%90%E5%8F%A5"><span class="nav-number">4.3.7.</span> <span class="nav-text">SQL的ORDER BY子句</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E8%AF%AD%E6%B3%95-4"><span class="nav-number">4.3.7.1.</span> <span class="nav-text">1.语法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-OPDER-BY-%E5%AD%90%E5%8F%A5-%E5%8D%87%E5%BA%8F%E6%8E%92%E5%BA%8F"><span class="nav-number">4.3.7.2.</span> <span class="nav-text">2.OPDER BY 子句-升序排序</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-ORDER-BY-%E5%AD%90%E5%8F%A5-%E9%99%8D%E5%BA%8F%E6%8E%92%E5%BA%8F"><span class="nav-number">4.3.7.3.</span> <span class="nav-text">3.ORDER BY 子句-降序排序</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-ORDER-BY%E5%AD%90%E5%8F%A5-%E5%A4%9A%E9%87%8D%E6%8E%92%E5%BA%8F"><span class="nav-number">4.3.7.4.</span> <span class="nav-text">4.ORDER BY子句-多重排序</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SQL%E7%9A%84COUNT-%E5%87%BD%E6%95%B0"><span class="nav-number">4.3.8.</span> <span class="nav-text">SQL的COUNT(*)函数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E8%AF%AD%E6%B3%95-5"><span class="nav-number">4.3.8.1.</span> <span class="nav-text">1.语法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-COUNT-%E5%AE%9E%E4%BE%8B"><span class="nav-number">4.3.8.2.</span> <span class="nav-text">2.COUNT(*)实例</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E4%BD%BF%E7%94%A8AS%E4%B8%BA%E5%88%97%E8%AE%BE%E7%BD%AE%E5%88%AB%E5%90%8D"><span class="nav-number">4.3.8.3.</span> <span class="nav-text">2.使用AS为列设置别名</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%9C%A8%E9%A1%B9%E7%9B%AE%E4%B8%AD%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE%E5%BA%93%E6%AD%A5%E9%AA%A4"><span class="nav-number">5.</span> <span class="nav-text">在项目中操作数据库步骤</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9C%A8%E9%A1%B9%E7%9B%AE%E4%B8%AD%E6%93%8D%E4%BD%9CmySQL%E7%9A%84%E6%AD%A5%E9%AA%A4"><span class="nav-number">5.1.</span> <span class="nav-text">在项目中操作mySQL的步骤</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AEmusql%E6%A8%A1%E5%9D%97"><span class="nav-number">5.2.</span> <span class="nav-text">安装与配置musql模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E5%AE%89%E8%A3%85mysql%E6%A8%A1%E5%9D%97"><span class="nav-number">5.2.1.</span> <span class="nav-text">1.安装mysql模块</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E9%85%8D%E7%BD%AEmysql%E6%A8%A1%E5%9D%97"><span class="nav-number">5.2.2.</span> <span class="nav-text">2.配置mysql模块</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E6%B5%8B%E8%AF%95mysql%E6%A8%A1%E5%9D%97%E8%83%BD%E5%90%A6%E6%AD%A3%E5%B8%B8%E5%B7%A5%E4%BD%9C"><span class="nav-number">5.2.3.</span> <span class="nav-text">3.测试mysql模块能否正常工作</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8mysql%E6%A8%A1%E5%9D%97%E6%93%8D%E4%BD%9Cmysql%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-number">5.3.</span> <span class="nav-text">使用mysql模块操作mysql数据库</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE"><span class="nav-number">5.3.1.</span> <span class="nav-text">1.查询数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE"><span class="nav-number">5.3.2.</span> <span class="nav-text">2.插入数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE%E7%9A%84%E4%BE%BF%E6%8D%B7%E6%96%B9%E5%BC%8F"><span class="nav-number">5.3.3.</span> <span class="nav-text">3.插入数据的便捷方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E6%9B%B4%E6%96%B0%E6%95%B0%E6%8D%AE"><span class="nav-number">5.3.4.</span> <span class="nav-text">4.更新数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-%E6%9B%B4%E6%96%B0%E6%95%B0%E6%8D%AE%E7%9A%84%E4%BE%BF%E6%8D%B7%E6%96%B9%E5%BC%8F"><span class="nav-number">5.3.5.</span> <span class="nav-text">5.更新数据的便捷方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE"><span class="nav-number">5.3.6.</span> <span class="nav-text">6.删除数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-%E6%A0%87%E8%AE%B0%E5%88%A0%E9%99%A4"><span class="nav-number">5.3.7.</span> <span class="nav-text">7.标记删除</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Web%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F"><span class="nav-number">6.</span> <span class="nav-text">Web开发模式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93%E7%9A%84web%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F"><span class="nav-number">6.1.</span> <span class="nav-text">1.服务端渲染的web开发模式</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93%E7%9A%84%E4%BC%98%E7%BC%BA%E7%82%B9"><span class="nav-number">6.1.0.1.</span> <span class="nav-text">服务端渲染的优缺点</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%E7%9A%84%E4%BC%98%E7%BC%BA%E7%82%B9"><span class="nav-number">6.2.</span> <span class="nav-text">2.前后端分离的优缺点</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93%E7%9A%84%E4%BC%98%E7%BC%BA%E7%82%B9-1"><span class="nav-number">6.2.0.1.</span> <span class="nav-text">服务端渲染的优缺点</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9Web%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F"><span class="nav-number">6.3.</span> <span class="nav-text">如何选择Web开发模式</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%BA%AB%E4%BB%BD%E8%AE%A4%E8%AF%81"><span class="nav-number">7.</span> <span class="nav-text">身份认证</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E8%BA%AB%E4%BB%BD%E8%AE%A4%E8%AF%81"><span class="nav-number">7.1.</span> <span class="nav-text">什么是身份认证</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%8D%E5%90%8C%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F%E4%B8%8B%E7%9A%84%E8%BA%AB%E4%BB%BD%E8%AE%A4%E8%AF%81"><span class="nav-number">7.2.</span> <span class="nav-text">不同开发模式下的身份认证</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Session%E8%AE%A4%E8%AF%81%E6%9C%BA%E5%88%B6"><span class="nav-number">7.3.</span> <span class="nav-text">Session认证机制</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#HTTP%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%97%A0%E7%8A%B6%E6%80%81%E6%80%A7"><span class="nav-number">7.3.1.</span> <span class="nav-text">HTTP协议的无状态性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E7%AA%81%E7%A0%B4HTTP%E6%97%A0%E7%8A%B6%E6%80%81%E7%9A%84%E9%99%90%E5%88%B6"><span class="nav-number">7.3.2.</span> <span class="nav-text">如何突破HTTP无状态的限制</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFCookie"><span class="nav-number">7.3.3.</span> <span class="nav-text">什么是Cookie</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Cookie%E5%9C%A8%E8%BA%AB%E4%BB%BD%E8%AE%A4%E8%AF%81%E4%B8%AD%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="nav-number">7.3.3.1.</span> <span class="nav-text">Cookie在身份认证中的作用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Cookie%E4%B8%8D%E5%85%B7%E6%9C%89%E5%AE%89%E5%85%A8%E6%80%A7"><span class="nav-number">7.3.3.2.</span> <span class="nav-text">Cookie不具有安全性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8F%90%E9%AB%98%E8%BA%AB%E4%BB%BD%E8%AE%A4%E8%AF%81%E7%9A%84%E5%AE%89%E5%85%A8%E6%80%A7"><span class="nav-number">7.3.3.3.</span> <span class="nav-text">提高身份认证的安全性</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Session%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="nav-number">7.4.</span> <span class="nav-text">Session的工作原理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9C%A8Express-session%E4%B8%AD%E9%97%B4%E4%BB%B6"><span class="nav-number">7.4.1.</span> <span class="nav-text">在Express-session中间件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E5%AE%89%E8%A3%85express-session%E4%B8%AD%E9%97%B4%E4%BB%B6"><span class="nav-number">7.4.1.1.</span> <span class="nav-text">1.安装express-session中间件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E9%85%8D%E7%BD%AEsxpress-session%E4%B8%AD%E9%97%B4%E4%BB%B6"><span class="nav-number">7.4.1.2.</span> <span class="nav-text">2.配置sxpress-session中间件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E5%90%91session%E4%B8%AD%E5%AD%98%E6%95%B0%E6%8D%AE"><span class="nav-number">7.4.1.3.</span> <span class="nav-text">3.向session中存数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E4%BB%8Esession%E4%B8%AD%E5%8F%96%E6%95%B0%E6%8D%AE"><span class="nav-number">7.4.1.4.</span> <span class="nav-text">4.从session中取数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-%E6%B8%85%E7%A9%BAsession"><span class="nav-number">7.4.1.5.</span> <span class="nav-text">5.清空session</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JWT%E8%AE%A4%E8%AF%81%E6%9C%BA%E5%88%B6"><span class="nav-number">7.5.</span> <span class="nav-text">JWT认证机制</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Session%E8%AE%A4%E8%AF%81%E5%B1%80%E9%99%90%E6%80%A7"><span class="nav-number">7.5.1.</span> <span class="nav-text">Session认证局限性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFJWT"><span class="nav-number">7.5.2.</span> <span class="nav-text">什么是JWT</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#JWT%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="nav-number">7.5.2.1.</span> <span class="nav-text">JWT工作原理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#JWT%E7%BB%84%E6%88%90%E9%83%A8%E5%88%86"><span class="nav-number">7.5.2.2.</span> <span class="nav-text">JWT组成部分</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#JWT%E7%9A%84%E4%B8%89%E4%B8%AA%E9%83%A8%E5%88%86%E5%90%84%E8%87%AA%E4%BB%A3%E8%A1%A8%E7%9A%84%E5%90%AB%E4%B9%89"><span class="nav-number">7.5.2.3.</span> <span class="nav-text">JWT的三个部分各自代表的含义</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#JWT%E7%9A%84%E4%BD%BF%E7%94%A8%E6%96%B9%E5%BC%8F"><span class="nav-number">7.5.3.</span> <span class="nav-text">JWT的使用方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9C%A8Express%E4%B8%AD%E4%BD%BF%E7%94%A8JWT"><span class="nav-number">7.5.4.</span> <span class="nav-text">在Express中使用JWT</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%89%E8%A3%85%E7%9B%B8%E5%BA%94%E7%9A%84%E5%8C%85"><span class="nav-number">7.5.4.1.</span> <span class="nav-text">安装相应的包</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AF%BC%E5%85%A5JWT%E7%9B%B8%E5%85%B3%E7%9A%84%E5%8C%85"><span class="nav-number">7.5.4.2.</span> <span class="nav-text">导入JWT相关的包</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9A%E4%B9%89secret%E5%AF%86%E9%92%A5"><span class="nav-number">7.5.4.3.</span> <span class="nav-text">定义secret密钥</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9C%A8%E7%99%BB%E5%BD%95%E6%88%90%E5%8A%9F%E5%90%8E%E7%94%9F%E6%88%90JWT%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-number">7.5.4.4.</span> <span class="nav-text">在登录成功后生成JWT字符串</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B0%86JWT%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BF%98%E5%8E%9F%E4%B8%BAJSON%E5%AF%B9%E8%B1%A1"><span class="nav-number">7.5.4.5.</span> <span class="nav-text">将JWT字符串还原为JSON对象</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8req-auth%E8%8E%B7%E5%8F%96%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF"><span class="nav-number">7.5.4.6.</span> <span class="nav-text">使用req.auth获取用户信息</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#postman%E8%AF%B7%E6%B1%82%E7%A4%BA%E4%BE%8B%EF%BC%9A"><span class="nav-number">7.5.4.6.1.</span> <span class="nav-text">postman请求示例：</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8D%95%E8%8E%B7%E8%A7%A3%E6%9E%90JWT%E5%A4%B1%E8%B4%A5%E5%90%8E%E4%BA%A7%E7%94%9F%E7%9A%84%E9%94%99%E8%AF%AF"><span class="nav-number">7.5.4.7.</span> <span class="nav-text">捕获解析JWT失败后产生的错误</span></a></li></ol></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="FØund404"
      src="https://found-img-blog.oss-cn-hangzhou.aliyuncs.com/img/%E7%BD%91%E7%AB%99%E5%A4%B4%E5%83%8F.png">
  <p class="site-author-name" itemprop="name">FØund404</p>
  <div class="site-description" itemprop="description">is not FOund</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/found404.io/archives/">
        
          <span class="site-state-item-count">12</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/found404.io/categories/">
          
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/found404.io/tags/">
          
        <span class="site-state-item-count">13</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/Found-404" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Found-404" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.yuque.com/books/share/a4ac6052-679a-45e9-b5a6-4966d872c65a#" title="语雀 → https:&#x2F;&#x2F;www.yuque.com&#x2F;books&#x2F;share&#x2F;a4ac6052-679a-45e9-b5a6-4966d872c65a?#" rel="noopener" target="_blank"><i class="fa fa-rocket fa-fw"></i>语雀</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://gitee.com/bl_ack233" title="Gitee → https:&#x2F;&#x2F;gitee.com&#x2F;bl_ack233" rel="noopener" target="_blank"><i class="fab fa-git-square fa-fw"></i>Gitee</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">FØund404</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

<span id="busuanzi_container_site_uv">
  本站访问次数：<span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
</span>


        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/found404.io/lib/anime.min.js"></script>
  <script src="/found404.io/lib/velocity/velocity.min.js"></script>
  <script src="/found404.io/lib/velocity/velocity.ui.min.js"></script>

<script src="/found404.io/js/utils.js"></script>

<script src="/found404.io/js/motion.js"></script>


<script src="/found404.io/js/schemes/pisces.js"></script>


<script src="/found404.io/js/next-boot.js"></script>




  




  
<script src="/found404.io/js/local-search.js"></script>













  

  

<script>
NexT.utils.loadComments(document.querySelector('#lv-container'), () => {
  window.livereOptions = {
    refer: location.pathname.replace(CONFIG.root, '').replace('index.html', '')
  };
  (function(d, s) {
    var j, e = d.getElementsByTagName(s)[0];
    if (typeof LivereTower === 'function') { return; }
    j = d.createElement(s);
    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
    j.async = true;
    e.parentNode.insertBefore(j, e);
  })(document, 'script');
});
</script>

  

<script type="text/javascript"
color="77,77,77" opacity='0.7' zIndex="-2" count="180" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>



   <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" ></canvas> 
   <script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script> 
   <script type="text/javascript" src="/js/src/fireworks.js"></script>


<script>
  ((window.gitter = {}).chat = {}).options = {
    room: 'FOund_Chat/community'
  };
</script>
<script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script>

</body>

</html>
